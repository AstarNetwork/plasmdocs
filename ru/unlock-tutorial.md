# Unlock Tutorial

Lockdropのロックコントラクトは以下のFunctionを有します。

```text
/**
* @dev Withdraw function once timestamp has passed unlock time
*/

function () external payable {
 assembly {
  switch gt(timestamp, sload(0x01))
  case 0 { revert(0, 0) }
  case 1 {
   switch call(gas, sload(0x00), balance(address), 0, 0, 0, 0)
  case 0 { revert(0, 0) }
  }
 }
}
```

これは、ロックした額をコントラクトからユーザーのアカウントに返す機能です。ロックを行ったユーザー自身が空のトランザクションをコントラクトに送ることで実行できます。

しかし、ロックした期間よりも事前に引き出すことができないようにタイムスタンプが使用されています。もし仮に、ロック期間前に引き出しのトランザクションを送った場合、エラーを返します。

トランザクションをロックコントラクトに送る（つまりトークンのロックを解除する）ことは、取引手数料を支払うのに十分な資金があれば誰でも行うことができます。しかし、ロックされたトークンは取引を送ったアドレスではなく、元のロックをしたユーザーにしか戻りません。そのため、別のアドレスが元のロッカーに代わってロックされたトークンを解除することは可能ですが、自分のためにトークンを要求することはできません。つまり、トークンが元のロッカーに戻されたとしても、誰でもエラーなく取引を送信することができます。

![unlock image](https://user-images.githubusercontent.com/40356749/77284164-608dd180-6d11-11ea-83e5-464b63b45b0f.jpg)

Lockdrop Webアプリケーションには、任意のロック情報を表示する直感的なフォームが付属しています。Unlock Tokensタブの下には、Web3対応のブラウザウォレット拡張機能で現在のアドレスでロックされたロックのリストが表示されます。**ロック期間が終了すると、右側のロックアイコンが薄い色に変わります。このアイコンをクリックすると、ロックされているアドレスに0ETHのトランザクションを送信し、トークンをロック解除することができます。つまりユーザビリティに考慮し誰でも直感的にトークンをアンロックすることができます。**

このフォームでは、ロック情報やロックが終わるまでの時間、ロックが終わったらロックを解除するなどの確認を簡単に行うことができます

