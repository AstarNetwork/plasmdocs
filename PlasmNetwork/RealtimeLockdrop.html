
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Real-time Lockdrop Â· Plasm Documentations</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        <meta name="identifier" content="null" scheme="ISBN">
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../PlasmTestnet/" />
    
    
    <link rel="prev" href="Lockdrop.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://github.com/stakedtechnologies/Plasm" target="_blank" class="custom-link">Plasm</a>
        </li>
    
        
        <li>
            <a href="http://crates.plasmnet.io" target="_blank" class="custom-link">Documentation(crates)</a>
        </li>
    
        
        <li>
            <a href="https://github.com/stakedtechnologies/plasmdocs/blob/master/wp/en.pdf" target="_blank" class="custom-link">PlasmProject Whitepaper(en)</a>
        </li>
    
        
        <li>
            <a href="https://github.com/stakedtechnologies/plasmdocs/blob/master/wp/jp.pdf" target="_blank" class="custom-link">PlasmProject Whitepaper(jp)</a>
        </li>
    
        
        <li>
            <a href="https://t.me/PlasmOfficial" target="_blank" class="custom-link">Telegram</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../Trying.html">
            
                <a href="../Trying.html">
            
                    
                    Trying
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../TechnicalChapter/">
            
                <a href="../TechnicalChapter/">
            
                    
                    TechnicalChapter
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../TechnicalChapter/PlasmaOverview.html">
            
                <a href="../TechnicalChapter/PlasmaOverview.html">
            
                    
                    Plasma Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../TechnicalChapter/OVM.html">
            
                <a href="../TechnicalChapter/OVM.html">
            
                    
                    OVM Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../TechnicalChapter/GeneralizedPlasma.html">
            
                <a href="../TechnicalChapter/GeneralizedPlasma.html">
            
                    
                    Generalized Plasma
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../TechnicalChapter/Constitution.html">
            
                <a href="../TechnicalChapter/Constitution.html">
            
                    
                    Constitution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../TechnicalChapter/Contracts.html">
            
                <a href="../TechnicalChapter/Contracts.html">
            
                    
                    Contracts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../TechnicalChapter/Client.html">
            
                <a href="../TechnicalChapter/Client.html">
            
                    
                    Client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../TechnicalChapter/Operator.html">
            
                <a href="../TechnicalChapter/Operator.html">
            
                    
                    Operator
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="./">
            
                <a href="./">
            
                    
                    Plasm Network
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="TokenEcosystem.html">
            
                <a href="TokenEcosystem.html">
            
                    
                    Token Ecosystem
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="ConsensusAlgorithm.html">
            
                <a href="ConsensusAlgorithm.html">
            
                    
                    Consensus Algorithm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="DappsRewards.html">
            
                <a href="DappsRewards.html">
            
                    
                    Dapps Rewards
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="OperatorTrading.html">
            
                <a href="OperatorTrading.html">
            
                    
                    Operator Trading
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="Lockdrop.html">
            
                <a href="Lockdrop.html">
            
                    
                    Lockdrop
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.6" data-path="RealtimeLockdrop.html">
            
                <a href="RealtimeLockdrop.html">
            
                    
                    Real-time Lockdrop
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../PlasmTestnet/">
            
                <a href="../PlasmTestnet/">
            
                    
                    PlasmTestnet
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../PlasmTestnet/DesignOverview.html">
            
                <a href="../PlasmTestnet/DesignOverview.html">
            
                    
                    Design Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../PlasmTestnet/ValidatorGuide.html">
            
                <a href="../PlasmTestnet/ValidatorGuide.html">
            
                    
                    Validator Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../PlasmTestnet/Lockdrop.html">
            
                <a href="../PlasmTestnet/Lockdrop.html">
            
                    
                    Lockdrop
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Real-time Lockdrop</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="real-time-lockdrop">Real-time Lockdrop</h1>
<p>As Real-time Lockdrop we mean process that held on already launched network.
In comparation to Genesis Lockdrop that held before network launch to prepare genesis block token distribution,
Real-time Lockdrop runs on live network to continue token distribution process. Plasm Multi-Lockdrop described at <a href="https://docs.plasmnet.io/Plasm" target="_blank">https://docs.plasmnet.io/Plasm</a> Network/TokenDesign.html. First Lockdrop in sequence is Genesis lockdrop but second and next is Real-time lockdrops.</p>
<h2 id="real-time-lockdrop-module">Real-time Lockdrop Module</h2>
<p>Plasm Network implements Real-time Lockdrop approach using Substrate runtime module with name <code>plasm-lockdrop</code>.
This module consist of multiple parts and use Off-chain workers launched on network authorities as powerful oracles
that provide off-chain information into Plasm Network.</p>
<h3 id="dollar-rate-oracle">Dollar Rate Oracle</h3>
<p>This simple oracle implemented using Off-chain Workers and fetch BTC/ETH/EOS/etc. token price via HTTP requests on authorities.</p>
<p><img src="../img/dollar_rate_oracle.png" alt="Dollar Rate Oracle"></p>
<p>Dollar price filtered using <a href="https://en.wikipedia.org/wiki/Median_filter" target="_blank">Medial filter</a> to prevent high price fluctuation between measurements.</p>
<h3 id="claim-voting-oracle">Claim Voting Oracle</h3>
<p>As same as dollar rate oracle claim voting oracles checks that tokens in different chains was really locked according to protocol and votes for user request to mint Plasm native token for user.</p>
<p><img src="../img/vote_oracle.png" alt="Vote Oracle"></p>
<h4 id="btc-locking-user-story">BTC locking user story</h4>
<ol>
<li>Using DApp <strong>User</strong> generate p2sh address for given unlocker public key and lock duration.</li>
<li>Using wallet <strong>User</strong> send BTC transaction to generated address. </li>
<li>Using DApp <em>user</em> send extrinsic to Plasm Network with <strong>BTC transaction hash</strong> and locking parameters.</li>
<li><strong>Off-chain workers</strong> get Lockdrop checking request from user.</li>
<li><strong>Off-chain workers</strong> fetch BTC transaction data using HTTP from public source.</li>
<li><strong>Off-chain workers</strong> vote on chain to approve/decline <em>user</em> request.</li>
<li>When <em>User</em> request reach enough votes, he send <code>claim</code> extrinsic to get tokens on unlocker address (derivered from unlocker public key).</li>
<li><em>User</em> receive Plasm token during BTC lockdrop.</li>
</ol>
<p>Estimation time of processing request (except BTC confirmation time): ~2-3 minutes.</p>
<h4 id="references">References</h4>
<ol>
<li><a href="https://gnunicorn.github.io/substrate-offchain-cb/" target="_blank">https://gnunicorn.github.io/substrate-offchain-cb/</a></li>
<li><a href="https://github.com/gnunicorn/substrate-offchain-cb" target="_blank">https://github.com/gnunicorn/substrate-offchain-cb</a></li>
<li><a href="https://substrate.dev/docs/en/overview/off-chain-workers" target="_blank">https://substrate.dev/docs/en/overview/off-chain-workers</a></li>
<li><a href="https://en.bitcoin.it/wiki/Timelock" target="_blank">https://en.bitcoin.it/wiki/Timelock</a></li>
<li><a href="https://prestwi.ch/bitcoin-time-locks/" target="_blank">https://prestwi.ch/bitcoin-time-locks/</a></li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Lockdrop.html" class="navigation navigation-prev " aria-label="Previous page: Lockdrop">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../PlasmTestnet/" class="navigation navigation-next " aria-label="Next page: PlasmTestnet">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Real-time Lockdrop","level":"1.5.6","depth":2,"next":{"title":"PlasmTestnet","level":"1.6","depth":1,"path":"PlasmTestnet/README.md","ref":"PlasmTestnet/README.md","articles":[{"title":"Design Overview","level":"1.6.1","depth":2,"path":"PlasmTestnet/DesignOverview.md","ref":"PlasmTestnet/DesignOverview.md","articles":[]},{"title":"Validator Guide","level":"1.6.2","depth":2,"path":"PlasmTestnet/ValidatorGuide.md","ref":"PlasmTestnet/ValidatorGuide.md","articles":[]},{"title":"Lockdrop","level":"1.6.3","depth":2,"path":"PlasmTestnet/Lockdrop.md","ref":"PlasmTestnet/Lockdrop.md","articles":[]}]},"previous":{"title":"Lockdrop","level":"1.5.5","depth":2,"path":"PlasmNetwork/Lockdrop.md","ref":"PlasmNetwork/Lockdrop.md","articles":[]},"dir":"ltr"},"config":{"plugins":["katex"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"fontSettings":{"theme":"sepia","family":"serif","size":1},"katex":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageBreaksBefore":"/","headerTemplate":null,"paperSize":"a4","margin":{"right":62,"left":62,"top":36,"bottom":36},"fontSize":12,"fontFamily":"Arial","footerTemplate":null,"chapterMark":"pagebreak","pageNumbers":false},"structure":{"langs":"LANGS.md","readme":"Introduction.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"isbn":"null","variables":{},"title":"Plasm Documentations","links":{"sidebar":{"Plasm":"https://github.com/stakedtechnologies/Plasm","Documentation(crates)":"http://crates.plasmnet.io","PlasmProject Whitepaper(en)":"https://github.com/stakedtechnologies/plasmdocs/blob/master/wp/en.pdf","PlasmProject Whitepaper(jp)":"https://github.com/stakedtechnologies/plasmdocs/blob/master/wp/jp.pdf","Telegram":"https://t.me/PlasmOfficial"},"sharing":{"google":true,"facebook":true,"twitter":true,"weibo":true,"all":true}},"gitbook":"*","description":null,"extension":null},"file":{"path":"PlasmNetwork/RealtimeLockdrop.md","mtime":"2020-03-08T14:55:49.624Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-03-08T14:56:50.797Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

